<div class="container mx-auto max-w-2xl px-4 py-8">
  <div class="flex items-center gap-4 mb-6">
    <a routerLink="/settings" class="text-gray-500 hover:text-black transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-6 h-6">
        <path d="M19 12H5M12 19l-7-7 7-7" />
      </svg>
    </a>
    <div class="flex flex-col gap-1">
      <h1 class="text-xl font-semibold text-black">Account</h1>
      <span class="text-xs font-normal text-gray-500">Change your name</span>
    </div>
  </div>

  @if (loading()) {
    <p class="text-sm text-gray-500 py-6">Loading…</p>
  } @else {
    <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
        <div class="space-y-2">
          <label for="first_name" class="text-sm font-medium text-gray-900">First name</label>
          <input
            type="text"
            formControlName="first_name"
            id="first_name"
            placeholder="First name"
            class="flex h-10 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-black placeholder:text-gray-400 focus-ring"
          />
          @if (form.get('first_name')?.invalid && form.get('first_name')?.touched) {
            <p class="text-xs text-gray-500">First name is required</p>
          }
        </div>
        <div class="space-y-2">
          <label for="last_name" class="text-sm font-medium text-gray-900">Last name</label>
          <input
            type="text"
            formControlName="last_name"
            id="last_name"
            placeholder="Last name"
            class="flex h-10 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-black placeholder:text-gray-400 focus-ring"
          />
          @if (form.get('last_name')?.invalid && form.get('last_name')?.touched) {
            <p class="text-xs text-gray-500">Last name is required</p>
          }
        </div>
        <div class="space-y-2">
          <label for="username" class="text-sm font-medium text-gray-900">Username</label>
          <input
            type="text"
            formControlName="username"
            id="username"
            placeholder="Username"
            class="flex h-10 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-black placeholder:text-gray-400 focus-ring"
          />
          @if (form.get('username')?.invalid && form.get('username')?.touched) {
            <p class="text-xs text-gray-500">Username is required</p>
          }
        </div>
        @if (error()) {
          <p class="text-sm text-gray-600 rounded-md bg-gray-50 border border-gray-200 px-3 py-2">{{ error() }}</p>
        }
        @if (success()) {
          <p class="text-sm font-medium text-gray-700">Account updated.</p>
        }
        <button
          type="submit"
          [disabled]="saving() || form.invalid"
          class="btn-primary w-full h-10 text-sm"
        >
          {{ saving() ? 'Saving…' : 'Save changes' }}
        </button>
      </form>
    </div>
  }
</div>
